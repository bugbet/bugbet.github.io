(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1155:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),i=(n(455),n(183)),s=n(434),l=n(114),u=n(73),m=n(59),d=n(88),p=n(84),g=n(89),f=n(115),h=(n(457),n(1222)),E=n(1215),y=n(1221),v=n(1208),b=n(1213),k=n(1212),O=n(1210),j=n(1198),w=n(1218),x=n(1201),N=n(1223),I=n(444),T=n.n(I),B=n(445),C=n.n(B),S=n(1211),P=n(9),A=n(1219),F=n(1216),D=n(1203),W=n(1207),M=n(1206),L=n(1204),z=n(1205),R=n(435),U=n(441),H=n(436),J=n.n(H),G=(n(894),n(60)),Y=n.n(G),Z=n(439),_=n.n(Z),Q=n(446),V=(Object(Q.a)(),n(182)),$=n(1217),q=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={status:"idle",result:null},n.mounted=!1,n.fetch=function(e){n.setState({status:"loading"},function(){n.props.fetch(e).then(function(e){n.mounted&&n.setState({status:"success",result:e})}).catch(function(e){n.mounted&&n.setState({status:"error",result:e.message})})})},n.clear=function(){n.setState({result:null})},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.autoFetch&&this.fetch()}},{key:"componentDidUpdate",value:function(e){this.props.fetch!==e.fetch&&this.fetch()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return this.props.render(Object(l.a)({},this.state,{fetch:this.fetch,clear:this.clear}))}}]),t}(r.a.Component);q.defaultProps={autoFetch:!1};var K=q;function X(){var e=Object(s.a)(['\n  display: "flex";\n  margin: 20px auto;\n  max-width: 80vw;\n']);return X=function(){return e},e}var ee=Object(V.a)({palette:{type:"dark",primary:{main:"#ff731e"},secondary:{main:"#1fff9e"},error:{main:"#ff2a1f"}}}),te=new J.a,ne=(te.constants,{augurNode:"wss://augur-node.augur.casino",ethereumNode:{http:"https://eth-mainnet.alchemyapi.io/jsonrpc/7sE1TzCIRIQA3NJPD5wg7YRiVjhxuWAE",pollingIntervalMilliseconds:1e4,blockRetention:100,connectionTimeout:6e4}}),ae=function(e){return{"@global":{body:{}},appBar:{position:"relative"},toolbarTitle:{flex:1},layout:Object(f.a)({width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(900+e.spacing(6)),{width:900,marginLeft:"auto",marginRight:"auto"}),heroContent:{maxWidth:600,margin:"0 auto",padding:"".concat(e.spacing(8),"px 0 ").concat(e.spacing(6),"px")},cardHeader:{},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},cardActions:Object(f.a)({},e.breakpoints.up("sm"),{paddingBottom:e.spacing(2)}),footer:{marginTop:e.spacing(8),borderTop:"1px solid ".concat(e.palette.divider),padding:"".concat(e.spacing(6),"px 0")}}},re=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this))).state={connected:!1},n.connect=function(){return te.rpc.setDebugOptions({broadcast:!0,connect:!0,tx:!0}),Y()(te.connect)(ne).then(function(e){var t=e.augurNode,a=e.ethereumNode;n.augurNode=t,n.ethereumNode=a,n.setState({connected:!0})}).catch(console.log)},n.getMarkets=function(e){return n.ethereumNode&&Y()(te.markets.getMarkets)(Object(l.a)({universe:n.ethereumNode.contracts.Universe},e)).then(function(e){return console.log("marketIds",e)||Y()(te.markets.getMarketsInfo)({marketIds:e})})||Promise.resolve([])},n.getBetterWorseOrders=function(e){return n.ethereumNode&&Y()(te.trading.getBetterWorseOrders)(e)||Promise.resolve([])},n.getOrders=function(e){return n.ethereumNode&&Y()(te.trading.getOrders)(e)||Promise.resolve([])},n.placeTrade=function(e){return n.ethereumNode&&Y()(te.trading.placeTrade)(e)||Promise.resolve([])},n.getCategories=function(){return n.ethereumNode&&Y()(te.markets.getCategories)({universe:n.ethereumNode.contracts.Universe})||Promise.resolve([])},n.connectOptions=e,n.augurNode=null,n.ethereumNode=null,n.connect(),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.render({connected:this.state.connected,getMarkets:this.getMarkets,getOrders:this.getOrders,placeTrade:this.placeTrade,getBetterWorseOrders:this.getBetterWorseOrders,getCategories:this.getCategories,augurNode:this.augurNode,ethereumNode:this.ethereumNode})}}]),t}(r.a.Component),ce=function(e){var t=e.style,n=e.price;return r.a.createElement("div",{style:Object(l.a)({border:"1px solid silver",display:"inline-block",fontSize:0,height:15,width:"100%"},t)},r.a.createElement("div",{style:{display:"inline-block",height:"100%",width:100*n+"%",backgroundColor:"#51c279"}}),r.a.createElement("div",{style:{display:"inline-block",height:"100%",width:100*(1-n)+"%",backgroundColor:"#c6655d"}}))},oe=U.a.div(X()),ie=function(e){var t=e.titles,n=e.rows;return r.a.createElement(D.a,{style:{width:"100%"}},r.a.createElement(L.a,null,r.a.createElement(z.a,null,t.map(function(e){return r.a.createElement(M.a,{key:e},e)}))),r.a.createElement(W.a,null,n.map(function(e){return r.a.createElement(z.a,{key:e.join("-")},e.map(function(e,t){return r.a.createElement(M.a,{key:t+""+e},e)}))})))},se=function(e){var t,n=e.details;return r.a.createElement("div",{style:{margin:20,fontSize:"0.85em"},dangerouslySetInnerHTML:{__html:(t=n,t&&_()(t.replace(/\n/gm,"<br/>"))||"")}})},le=function(e){return e.map(function(e){return e.price}).sort()[e.length-1]},ue=Object(P.a)(ae)(function(e){var t=e.category,n=e.classes,a=e.augur,c=e.id,o=e.description,s=e.openInterest,l=e.settlementFee,u=e.volume,m=e.marketType,d=e.outcomes,p=e.endTime,g=e.details,f=(e.tags,e.reportingState),E=r.a.useState(!1),j=Object(i.a)(E,2),w=j[0],x=j[1],I=r.a.useState(fe),B=Object(i.a)(I,1)[0],P=function(){x(!0)},A=he();return r.a.createElement(v.a,{style:{margin:10}},r.a.createElement(O.a,{title:o,subheader:t,titleTypographyProps:{variant:"h6"},subheaderTypographyProps:{align:"left"},action:r.a.createElement(T.a,{style:{cursor:"pointer"}}),className:n.cardHeader}),r.a.createElement(k.a,null,"yesNo"===m&&r.a.createElement(ce,{price:le(d)}),r.a.createElement(S.a,{variant:"subtitle1",align:"left",key:c},r.a.createElement(se,{details:g}),r.a.createElement(ie,{titles:["volume","eth open interest","eth est. fee","expires"],rows:[[u,s,100*l+"%",Object(R.distanceInWordsStrict)(new Date,new Date(1e3*p),{addSuffix:!0,unit:"d"})]]}))),r.a.createElement(b.a,{className:n.cardActions},r.a.createElement("div",{style:{textAlign:"center",width:"100%"}},"FINALIZED"===f&&r.a.createElement(N.a,{icon:r.a.createElement(C.a,null),label:"FINALIZED"})||r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){console.log("ioooo"),P()}},"PLACE BET"),r.a.createElement(h.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:w,onClose:function(){x(!1)}},r.a.createElement("div",{style:B,className:A.paper},r.a.createElement(ye,{marketId:"0x1d96d2e931ccdfa08672c2fe12e2b5df34861f46",augur:a})))))))}),me=function(e){return function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}},de=function(e){return e.sort(me("price")).reverse()[0]},pe=function(e){return e.sort(me("price"))[0]},ge=function(e){return parseInt(1e4*e,10)/1e4};function fe(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var he=Object(E.a)(function(e){return{paper:{position:"absolute",width:500,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(4),outline:"none"}}}),Ee=Object(P.a)(ae)(function(e){e.classes,e.augur;var t=e.orders,n=(e.marketId,Object(a.useState)(0)),c=Object(i.a)(n,2),o=c[0],s=c[1],l=t[Object.keys(t)[0]][1],u=l.buy,m=l.sell,d=pe(Object.values(u)),p=de(Object.values(m)),g=100*p.price,f=100-100*d.price,h=o/p.price,E=(o/(1-d.price)).toPrecision(4);return r.a.createElement(x.a,{container:!0,direction:"column",style:{flexGrow:1},justify:"center",alignItems:"center"},r.a.createElement(S.a,{variant:"h4",id:"modal-title",style:{marginBottom:20}},"Place Bet"),r.a.createElement(A.a,{type:"number",variant:"outlined",label:"Bet amount",InputProps:{endAdornment:r.a.createElement(F.a,{position:"end"},"Eth"),style:{fontSize:"2em",textAlign:"center"}},min:"0",value:o,onChange:function(e){return s(e.target.value)}}),r.a.createElement(x.a,{container:!0,item:!0,direction:"row",style:{flexGrow:0,fontSize:"1.5em",margin:"40px 0px"},justify:"center",alignItems:"center"},r.a.createElement(x.a,{item:!0,xs:6,container:!0,direction:"column",justify:"center"},r.a.createElement(x.a,{item:!0},"Odds : ",ge(g)," %"),r.a.createElement(x.a,{item:!0},"Payout : ",ge(h)),r.a.createElement(x.a,{item:!0,style:{marginTop:40,textAlign:"center"}},r.a.createElement(y.a,{variant:"contained",color:"secondary",onClick:function(){}},"YES"))),r.a.createElement(x.a,{item:!0,xs:6,container:!0,direction:"column"},r.a.createElement(x.a,{item:!0},"Odds : ",ge(f)," %"),r.a.createElement(x.a,{item:!0},"Payout : ",ge(E)),r.a.createElement(x.a,{item:!0,style:{marginTop:40,textAlign:"center"}},r.a.createElement(y.a,{variant:"contained",color:"primary"},"NO")))))}),ye=function(e){var t=e.augur,n=e.marketId;return r.a.createElement(K,{fetch:function(){return t.getOrders({marketId:n})},autoFetch:!0,render:function(e){var a=e.status,c=e.result;return console.log("result",c),"success"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{augur:t,orders:c,marketId:n})):"loading"===a?r.a.createElement(j.a,{style:{marginTop:50}}):null}})},ve=function(e){var t=e.markets,n=e.augur;return r.a.createElement(oe,null,t.map(function(e){return r.a.createElement(ue,Object.assign({key:e.description},e,{augur:n}))}))},be=function(e){var t=e.classes,n=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{theme:ee},r.a.createElement(w.a,null),r.a.createElement("main",{className:t.layout},n)))},ke=function(e){var t=e.classes;return r.a.createElement("div",{className:t.heroContent},r.a.createElement(S.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"BugBet"))},Oe=Object(P.a)(ae)(function(e){var t=e.classes;return r.a.createElement(be,{classes:t},r.a.createElement(ke,{classes:t}),r.a.createElement(re,{render:function(e){return e.connected?r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{fetch:function(){return e.getMarkets({creator:"0xB841457Ef1EB2c4237eD840e304D8E6091EB1912"})},autoFetch:!0,render:function(t){var n=t.status,a=t.result;return"success"===n?r.a.createElement(ve,{markets:a,augur:e}):"loading"===n?r.a.createElement(j.a,{style:{marginTop:50}}):null}})):r.a.createElement(j.a,{style:{marginTop:50}})}}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},450:function(e,t,n){e.exports=n(1155)},455:function(e,t,n){},457:function(e,t,n){},600:function(e,t){},602:function(e,t){},614:function(e,t){},617:function(e,t){},710:function(e,t){},715:function(e,t){},891:function(e,t){}},[[450,2,1]]]);
//# sourceMappingURL=main.56e3b9fc.chunk.js.map