(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1160:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),c=n.n(o),i=(n(457),n(436));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},118:function(e,t,n){"use strict";var a=n(92),r=n(75),o=n(60),c=n(90),i=n(86),s=n(91),l=n(0),u=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={status:"idle",result:null},n.mounted=!1,n.fetch=function(e){n.setState({status:"loading"},function(){n.props.fetch(e).then(function(e){n.mounted&&n.setState({status:"success",result:e})}).catch(function(e){n.mounted&&n.setState({status:"error",result:e.message})})})},n.clear=function(){n.setState({result:null})},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.autoFetch&&this.fetch()}},{key:"componentDidUpdate",value:function(e){this.props.fetch!==e.fetch&&this.fetch()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return this.props.render(Object(a.a)({},this.state,{fetch:this.fetch,clear:this.clear}))}}]),t}(n.n(l).a.Component);u.defaultProps={autoFetch:!1},t.a=u},436:function(e,t,n){"use strict";(function(e){var a=n(119),r=n(437),o=n(92),c=n(75),i=n(60),s=n(90),l=n(86),u=n(91),m=n(117),d=n(0),g=n.n(d),f=(n(459),n(1175)),p=n(1158),h=n(176),b=n(1164),E=n(1168),v=n(1167),y=n(1166),k=n(175),O=n(1172),w=n(44),j=n(1176),N=n(446),x=n.n(N),T=n(447),I=n.n(T),S=n(62),P=n(9),C=n(1173),B=n(1170),M=n(1161),A=n(1163),F=n(1157),W=n(1162),D=n(1156),z=n(438),L=n(443),R=n(439),_=n.n(R),U=(n(896),n(61)),H=n.n(U),J=(n(897),n(236)),G=n(1171),Y=n(118);function Z(){var e=Object(r.a)(['\n  display: "flex";\n  margin: 20px auto;\n  max-width: 80vw;\n']);return Z=function(){return e},e}var Q=Object(J.a)({palette:{type:"dark",primary:{main:"#ff731e"},secondary:{main:"#1fff9e"},error:{main:"#ff2a1f"}}}),V=new _.a,$=(V.constants,{augurNode:"wss://augur-node.augur.casino",ethereumNode:{http:"https://eth-mainnet.alchemyapi.io/jsonrpc/7sE1TzCIRIQA3NJPD5wg7YRiVjhxuWAE",pollingIntervalMilliseconds:1e4,blockRetention:100,connectionTimeout:6e4},useWeb3Transport:"undefined"!==typeof web3,useWebsocketToConnectAugurNode:!0});console.log("connectOptions",$);var q=function(e){return{"@global":{body:{}},appBar:{position:"relative"},toolbarTitle:{flex:1},layout:Object(m.a)({width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(900+e.spacing(6)),{width:900,marginLeft:"auto",marginRight:"auto"}),heroContent:{maxWidth:600,margin:"0 auto",padding:"".concat(e.spacing(8),"px 0 ").concat(e.spacing(6),"px")},cardHeader:{},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},cardActions:Object(m.a)({},e.breakpoints.up("sm"),{paddingBottom:e.spacing(2)}),footer:{marginTop:e.spacing(8),borderTop:"1px solid ".concat(e.palette.divider),padding:"".concat(e.spacing(6),"px 0")}}};var K=function(t){function n(t){var a;return Object(c.a)(this,n),(a=Object(s.a)(this,Object(l.a)(n).call(this))).state={connected:!1},a.connect=function(){return V.rpc.setDebugOptions({broadcast:!0,connect:!0,tx:!0}),H()(V.connect)($).then(function(t){var n=t.augurNode,r=t.ethereumNode;console.log("connected",{augurNode:n,ethereumNode:r}),a.augurNode=n,a.ethereumNode=r,a.setState({connected:!0}),"undefined"!==typeof web3?console.log("MetaMask is installed"):console.log("MetaMask is not installed"),console.log("typeof web3",typeof web3),"undefined"!==typeof e.web3&&(console.log(e.web3),e.web3.eth.getAccounts(function(e,t){null!=e?console.log(e):0===t.length?console.log("MetaMask is locked"):console.log("MetaMask is unlocked")}))}).catch(console.log)},a.getMarkets=function(e){return a.ethereumNode&&H()(V.markets.getMarkets)(Object(o.a)({universe:a.ethereumNode.contracts.Universe},e)).then(function(e){return console.log("marketIds",e)||H()(V.markets.getMarketsInfo)({marketIds:e})})||Promise.resolve([])},a.getBetterWorseOrders=function(e){return a.ethereumNode&&H()(V.trading.getBetterWorseOrders)(e)||Promise.resolve([])},a.getOrders=function(e){return a.ethereumNode&&H()(V.trading.getOrders)(e)||Promise.resolve([])},a.placeTrade=function(e){return a.ethereumNode&&H()(V.trading.placeTrade)(e)||Promise.resolve([])},a.getCategories=function(){return a.ethereumNode&&H()(V.markets.getCategories)({universe:a.ethereumNode.contracts.Universe})||Promise.resolve([])},a.connectOptions=t,a.augurNode=null,a.ethereumNode=null,a.connect(),a}return Object(u.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){return this.props.render({connected:this.state.connected,getMarkets:this.getMarkets,getOrders:this.getOrders,placeTrade:this.placeTrade,getBetterWorseOrders:this.getBetterWorseOrders,getCategories:this.getCategories,augurNode:this.augurNode,ethereumNode:this.ethereumNode})}}]),n}(g.a.Component),X=function(e){var t=e.style,n=e.price;return g.a.createElement("div",{style:Object(o.a)({border:"1px solid silver",display:"inline-block",fontSize:0,height:15,width:"100%"},t)},g.a.createElement("div",{style:{display:"inline-block",height:"100%",width:100*n+"%",backgroundColor:"#51c279"}}),g.a.createElement("div",{style:{display:"inline-block",height:"100%",width:100*(1-n)+"%",backgroundColor:"#c6655d"}}))},ee=L.a.div(Z()),te=function(e){var t=e.titles,n=e.rows;return g.a.createElement(M.a,{style:{width:"100%"}},g.a.createElement(W.a,null,g.a.createElement(D.a,null,t.map(function(e){return g.a.createElement(F.a,{key:e},e)}))),g.a.createElement(A.a,null,n.map(function(e){return g.a.createElement(D.a,{key:e.join("-")},e.map(function(e,t){return g.a.createElement(F.a,{key:t+""+e},e)}))})))},ne=function(e){var t=e.details;return g.a.createElement("div",{style:{margin:20,fontSize:"0.85em"},dangerouslySetInnerHTML:{__html:t}})},ae=function(e){return e.map(function(e){return e.price}).sort()[e.length-1]},re=Object(P.a)(q)(function(e){var t=e.category,n=e.classes,r=e.augur,o=e.id,c=e.description,i=e.openInterest,s=e.settlementFee,l=e.volume,u=e.marketType,m=e.outcomes,d=e.endTime,p=e.details,k=(e.tags,e.reportingState),O=g.a.useState(!1),w=Object(a.a)(O,2),N=w[0],T=w[1],P=g.a.useState(le),C=Object(a.a)(P,1)[0],B=function(){T(!0)},M=ue();return g.a.createElement(b.a,{style:{margin:10}},g.a.createElement(y.a,{title:c,subheader:t,titleTypographyProps:{variant:"h6"},subheaderTypographyProps:{align:"left"},action:g.a.createElement(x.a,{style:{cursor:"pointer"}}),className:n.cardHeader}),g.a.createElement(v.a,null,"yesNo"===u&&g.a.createElement(X,{price:ae(m)}),g.a.createElement(S.a,{variant:"subtitle1",align:"left",key:o},g.a.createElement(ne,{details:p}),g.a.createElement(te,{titles:["volume","eth open interest","eth est. fee","expires"],rows:[[l,i,100*s+"%",Object(z.distanceInWordsStrict)(new Date,new Date(1e3*d),{addSuffix:!0,unit:"d"})]]}))),g.a.createElement(E.a,{className:n.cardActions},g.a.createElement("div",{style:{textAlign:"center",width:"100%"}},"FINALIZED"===k&&g.a.createElement(j.a,{icon:g.a.createElement(I.a,null),label:"FINALIZED"})||g.a.createElement(g.a.Fragment,null,g.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){console.log("ioooo"),B()}},"PLACE BET"),g.a.createElement(f.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:N,onClose:function(){T(!1)}},g.a.createElement("div",{style:C,className:M.paper},g.a.createElement(ge,{marketId:"0xf4f35c7909d6496779c390abbe71b5fc6353614c",augur:r})))))))}),oe=function(e){return function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}},ce=function(e){return e.sort(oe("price")).reverse()[0]},ie=function(e){return e.sort(oe("price"))[0]},se=function(e){return parseInt(1e4*e,10)/1e4};function le(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var ue=Object(p.a)(function(e){return{paper:{position:"absolute",width:500,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(4),outline:"none"}}}),me=function(t){var n=t.render,r=Object(d.useState)([]),o=Object(a.a)(r,2),c=o[0],i=o[1];return Object(d.useEffect)(function(){e.web3.eth.getAccounts(function(e,t){i(t)})}),n({accounts:c})},de=Object(P.a)(q)(function(e){e.classes;var t=e.augur,n=e.orders,r=e.marketId,c=Object(d.useState)(0),i=Object(a.a)(c,2),s=i[0],l=i[1],u=n[Object.keys(n)[0]][1],m=u.buy,f=u.sell,p=ie(Object.values(m)),b=ce(Object.values(f)),E=100*b.price,v=100-100*p.price,y=s/b.price,k=(s/(1-p.price)).toPrecision(4),O=function(e,n){return function(a){var c={amount:e?y:k,sharesProvided:"0",limitPrice:e?E/100+"":v/100+"",minPrice:"0",maxPrice:"1",numTicks:"10000",_direction:0,_market:r,_outcome:e?1:0,doNotCreateOrders:!1,meta:{accountType:"metaMask",address:n[0],signer:null}};console.log("tradeParams",c),t.placeTrade(Object(o.a)({},c,{onSent:function(e){console.log("onSent",e)},onSuccess:function(e,t){console.log("onSuccess",e,t)},onFailed:function(e){console.log("onFailed",e)}}))}};return g.a.createElement(w.a,{container:!0,direction:"column",style:{flexGrow:1},justify:"center",alignItems:"center"},g.a.createElement(me,{render:function(e){var t=e.accounts;return g.a.createElement(g.a.Fragment,null,g.a.createElement(S.a,{variant:"h4",id:"modal-title",style:{marginBottom:20}},"Place Bet ",g.a.createElement("span",{style:{fontSize:8}},r)),g.a.createElement(C.a,{type:"number",variant:"outlined",label:"Bet amount",InputProps:{endAdornment:g.a.createElement(B.a,{position:"end"},"Eth"),style:{fontSize:"2em",textAlign:"center"}},min:"0",value:s,onChange:function(e){return l(e.target.value)}}),g.a.createElement(w.a,{container:!0,item:!0,direction:"row",style:{flexGrow:0,fontSize:"1.5em",margin:"40px 0px"},justify:"center",alignItems:"center"},g.a.createElement(w.a,{item:!0,xs:6,container:!0,direction:"column",justify:"center"},g.a.createElement(w.a,{item:!0},"Odds : ",se(E)," %"),g.a.createElement(w.a,{item:!0},"Payout : ",se(y)),g.a.createElement(w.a,{item:!0,style:{marginTop:40,textAlign:"center"}},g.a.createElement(h.a,{variant:"contained",color:"secondary",onClick:O(!0,t)},"YES"))),g.a.createElement(w.a,{item:!0,xs:6,container:!0,direction:"column"},g.a.createElement(w.a,{item:!0},"Odds : ",se(v)," %"),g.a.createElement(w.a,{item:!0},"Payout : ",se(k)),g.a.createElement(w.a,{item:!0,style:{marginTop:40,textAlign:"center"}},g.a.createElement(h.a,{variant:"contained",color:"primary",onClick:O(!1,t)},"NO")))))}}))}),ge=function(e){var t=e.augur,n=e.marketId;return g.a.createElement(Y.a,{fetch:function(){return t.getOrders({marketId:n})},autoFetch:!0,render:function(e){var a=e.status,r=e.result;return console.log("result",r),"success"===a?g.a.createElement(g.a.Fragment,null,g.a.createElement(de,{augur:t,orders:r,marketId:n})):"loading"===a?g.a.createElement(k.a,{style:{marginTop:50}}):null}})},fe=function(e){var t=e.markets,n=e.augur;return g.a.createElement(ee,null,t.map(function(e){return g.a.createElement(re,Object.assign({key:e.description},e,{augur:n}))}))},pe=function(e){var t=e.classes,n=e.children;return g.a.createElement(g.a.Fragment,null,g.a.createElement(G.a,{theme:Q},g.a.createElement(O.a,null),g.a.createElement("main",{className:t.layout},n)))},he=function(e){var t=e.classes;return g.a.createElement("div",{className:t.heroContent},g.a.createElement(S.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"BugBet"))};t.a=Object(P.a)(q)(function(e){var t=e.classes;return g.a.createElement(pe,{classes:t},g.a.createElement(he,{classes:t}),g.a.createElement(K,{render:function(e){return e.connected?g.a.createElement(g.a.Fragment,null,g.a.createElement(Y.a,{fetch:function(){return e.getMarkets({creator:"0xB841457Ef1EB2c4237eD840e304D8E6091EB1912"})},autoFetch:!0,render:function(t){var n=t.status,a=t.result;return"success"===n?g.a.createElement(fe,{markets:a,augur:e}):"loading"===n?g.a.createElement(k.a,{style:{marginTop:50}}):null}})):g.a.createElement(k.a,{style:{marginTop:50}})}}))})}).call(this,n(12))},452:function(e,t,n){e.exports=n(1160)},457:function(e,t,n){},459:function(e,t,n){},602:function(e,t){},604:function(e,t){},616:function(e,t){},619:function(e,t){},712:function(e,t){},717:function(e,t){},893:function(e,t){},897:function(e,t,n){"use strict";var a=n(448);Object(a.a)()}},[[452,2,1]]]);
//# sourceMappingURL=main.fce7e937.chunk.js.map